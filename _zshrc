# vim:filetype=zsh

# fpath
fpath=($HOME/.zsh/zsh-completions/src(N-/) $fpath)
fpath=($HOME/.zsh/complention $fpath)


# options
setopt append_history
setopt auto_cd
setopt auto_remove_slash
setopt brace_ccl
setopt correct
setopt correct_all
setopt extended_history
setopt hist_expire_dups_first
setopt hist_find_no_dups
setopt hist_ignore_all_dups
setopt hist_ignore_space
setopt hist_no_functions
setopt hist_no_store
setopt hist_reduce_blanks
setopt hist_save_nodups
setopt hist_verify
setopt inc_append_history
setopt no_beep
setopt no_hist_beep
setopt no_list_beep
setopt print_eight_bit
setopt share_history

# autoloads
# U: 展開される関数の内部で alias の展開をしない
# z: zsh 形式で読み込む
autoload -Uz add-zsh-hook
autoload -Uz colors; colors
autoload -Uz colors; colors
autoload -Uz compinit; compinit -u
autoload -Uz compinit; compinit -u
autoload -Uz history-search-end
autoload -Uz modify-current-argument
autoload -Uz run-help
autoload -Uz run-help-git
autoload -Uz smart-insert-last-word
autoload -Uz vcs_info
autoload -Uz zcalc
autoload -Uz zmv

# Emacs Keybind
bindkey -e

# Plugins
source ~/.zplug/zplug
zplug "b4b4r07/zplug"
zplug "nojhan/liquidprompt"

# Install plugins if there are plugins that have not been installed
zplug check || zplug install
# source plugins and add commands to $PATH
zplug load

# alias
alias mv='mv -i'
alias -g cp='cp -i'
alias -g grep='grep --color=auto --exclude-dir={.bzr,.cvs,.git,.hg,.svn}'
alias -g mkdir='mkdir -p'
alias -g vimconfig='vim ~/.vimrc'
alias -g zshconfig='vim ~/.zshrc'
alias -g L='| less'
alias -g G='| grep'
alias -g v='gvim'
alias -g vi='vim'
alias -g vim='nvim'

# Git
alias g='git'
alias -g B='`git branch -a | peco --prompt "GIT BRANCH>" | head -n 1 | sed -e "s/^\*\s*//g"`'
alias -g R='`git remote | peco --prompt "GIT REMOTE>" | head -n 1`'



# tmuxがインストールされていたら自動的に起動してアタッチする
if which tmux > /dev/null 2>&1 ; then
  if [ -z $TMUX ] ; then
    if [ -z `tmux ls` ] ; then
      tmux -2
    else
      tmux -2 attach
    fi
  fi
fi
